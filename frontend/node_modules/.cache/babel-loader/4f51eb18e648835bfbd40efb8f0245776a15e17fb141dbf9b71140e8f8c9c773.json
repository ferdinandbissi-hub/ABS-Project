{"ast":null,"code":"var _jsxFileName = \"/home/student25/ABS-Project/frontend/src/components/CustomerDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CustomerDashboard() {\n  _s();\n  const [services, setServices] = useState([]);\n  const [appointments, setAppointments] = useState([]);\n  const [selectedServiceId, setSelectedServiceId] = useState(null);\n  const [slot, setSlot] = useState(\"\");\n  const [calendarEvents, setCalendarEvents] = useState([]);\n  const [validSlots, setValidSlots] = useState([]); // ✅ Slots valides\n\n  const getToken = () => localStorage.getItem(\"token\");\n  const fetchServices = useCallback(async () => {\n    try {\n      const res = await fetch(\"http://localhost:5000/services\", {\n        headers: {\n          Authorization: \"Bearer \" + getToken()\n        }\n      });\n      const data = await res.json();\n      setServices(Array.isArray(data) ? data : []);\n    } catch (err) {\n      console.error(err);\n    }\n  }, []);\n  const fetchAppointments = useCallback(async () => {\n    try {\n      const res = await fetch(\"http://localhost:5000/appointments\", {\n        headers: {\n          Authorization: \"Bearer \" + getToken()\n        }\n      });\n      const data = await res.json();\n      setAppointments(Array.isArray(data) ? data : []);\n    } catch (err) {\n      console.error(err);\n    }\n  }, []);\n  useEffect(() => {\n    fetchServices();\n    fetchAppointments();\n  }, [fetchServices, fetchAppointments]);\n  const handleBookAppointment = async e => {\n    e.preventDefault();\n    if (!slot) return alert(\"Please enter a slot\");\n    const isoSlot = new Date(slot).toISOString();\n\n    // ✅ Validation : slot doit être dans validSlots\n    if (!validSlots.includes(isoSlot)) return alert(\"Selected slot is outside provider working hours!\");\n    try {\n      await fetch(\"http://localhost:5000/appointments\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + getToken()\n        },\n        body: JSON.stringify({\n          serviceId: Number(selectedServiceId),\n          slot: isoSlot\n        })\n      });\n      setSlot(\"\");\n      setSelectedServiceId(null);\n      const bookedService = services.find(s => s.id === selectedServiceId);\n      if (bookedService) {\n        setAppointments(prev => [...prev, {\n          id: Date.now(),\n          serviceId: bookedService.id,\n          serviceTitle: bookedService.title,\n          serviceDescription: bookedService.description,\n          servicePrice: bookedService.price,\n          providerEmail: bookedService.providerEmail,\n          slot: isoSlot,\n          status: \"booked\"\n        }]);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const handleCancelAppointment = async appointmentId => {\n    try {\n      await fetch(`http://localhost:5000/appointments/${appointmentId}`, {\n        method: \"DELETE\",\n        headers: {\n          Authorization: \"Bearer \" + getToken()\n        }\n      });\n      setAppointments(prev => prev.filter(a => a.id !== appointmentId));\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const availableServices = services.filter(s => !appointments.some(a => a.serviceId === s.id && a.status === \"booked\"));\n  useEffect(() => {\n    if (!selectedServiceId) return;\n    const service = services.find(s => s.id === selectedServiceId);\n    if (!service) return;\n    fetch(`http://localhost:5000/working-hours?providerEmail=${service.providerEmail}`, {\n      headers: {\n        Authorization: \"Bearer \" + getToken()\n      }\n    }).then(res => res.json()).then(data => {\n      const dayMap = {\n        Sun: 0,\n        Mon: 1,\n        Tue: 2,\n        Wed: 3,\n        Thu: 4,\n        Fri: 5,\n        Sat: 6\n      };\n      const valid = [];\n      const workingEvents = (data.hours || []).map(h => {\n        const start = new Date();\n        start.setDate(start.getDate() - start.getDay() + dayMap[h.day]);\n        const [sh, sm] = h.start.split(\":\").map(Number);\n        start.setHours(sh, sm, 0, 0);\n        const end = new Date(start);\n        const [eh, em] = h.end.split(\":\").map(Number);\n        end.setHours(eh, em, 0, 0);\n\n        // ✅ Créer les slots valides toutes les 30 min\n        let temp = new Date(start);\n        while (temp < end) {\n          valid.push(temp.toISOString());\n          temp = new Date(temp.getTime() + 30 * 60 * 1000);\n        }\n        return {\n          start,\n          end,\n          display: \"background\",\n          backgroundColor: \"repeating-linear-gradient(45deg, #27ae60, #27ae60 10px, #ffffff 10px, #ffffff 20px)\",\n          borderColor: \"#1e8449\"\n        };\n      });\n      const bookedAppointments = appointments.filter(a => {\n        const s = services.find(s => s.id === a.serviceId);\n        return s && s.providerEmail === service.providerEmail && a.status === \"booked\";\n      }).map(a => ({\n        start: a.slot,\n        end: new Date(new Date(a.slot).getTime() + 30 * 60 * 1000),\n        title: a.serviceTitle,\n        backgroundColor: \"#3498db\",\n        borderColor: \"#2980b9\"\n      }));\n      setCalendarEvents([...workingEvents, ...bookedAppointments]);\n      setValidSlots(valid); // ✅ mettre à jour les slots valides\n    }).catch(console.error);\n  }, [selectedServiceId, services, appointments]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: \"800px\",\n      margin: \"20px auto\",\n      padding: \"20px\",\n      fontFamily: \"Arial\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        .fc-day-today { background: transparent !important; }\n        .fc-now-indicator { border-width: 2px !important; border-color: red !important; }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        textAlign: \"center\",\n        color: \"#2c3e50\"\n      },\n      children: \"Customer Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 5\n  }, this);\n}\n_s(CustomerDashboard, \"/I/MmjilE3yR/9n7UrilWKi84+4=\");\n_c = CustomerDashboard;\nvar _c;\n$RefreshReg$(_c, \"CustomerDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","FullCalendar","dayGridPlugin","timeGridPlugin","interactionPlugin","jsxDEV","_jsxDEV","CustomerDashboard","_s","services","setServices","appointments","setAppointments","selectedServiceId","setSelectedServiceId","slot","setSlot","calendarEvents","setCalendarEvents","validSlots","setValidSlots","getToken","localStorage","getItem","fetchServices","res","fetch","headers","Authorization","data","json","Array","isArray","err","console","error","fetchAppointments","handleBookAppointment","e","preventDefault","alert","isoSlot","Date","toISOString","includes","method","body","JSON","stringify","serviceId","Number","bookedService","find","s","id","prev","now","serviceTitle","title","serviceDescription","description","servicePrice","price","providerEmail","status","handleCancelAppointment","appointmentId","filter","a","availableServices","some","service","then","dayMap","Sun","Mon","Tue","Wed","Thu","Fri","Sat","valid","workingEvents","hours","map","h","start","setDate","getDate","getDay","day","sh","sm","split","setHours","end","eh","em","temp","push","getTime","display","backgroundColor","borderColor","bookedAppointments","catch","style","maxWidth","margin","padding","fontFamily","children","fileName","_jsxFileName","lineNumber","columnNumber","textAlign","color","_c","$RefreshReg$"],"sources":["/home/student25/ABS-Project/frontend/src/components/CustomerDashboard.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport interactionPlugin from \"@fullcalendar/interaction\";\n\nexport default function CustomerDashboard() {\n  const [services, setServices] = useState([]);\n  const [appointments, setAppointments] = useState([]);\n  const [selectedServiceId, setSelectedServiceId] = useState(null);\n  const [slot, setSlot] = useState(\"\");\n  const [calendarEvents, setCalendarEvents] = useState([]);\n  const [validSlots, setValidSlots] = useState([]); // ✅ Slots valides\n\n  const getToken = () => localStorage.getItem(\"token\");\n\n  const fetchServices = useCallback(async () => {\n    try {\n      const res = await fetch(\"http://localhost:5000/services\", {\n        headers: { Authorization: \"Bearer \" + getToken() },\n      });\n      const data = await res.json();\n      setServices(Array.isArray(data) ? data : []);\n    } catch (err) {\n      console.error(err);\n    }\n  }, []);\n\n  const fetchAppointments = useCallback(async () => {\n    try {\n      const res = await fetch(\"http://localhost:5000/appointments\", {\n        headers: { Authorization: \"Bearer \" + getToken() },\n      });\n      const data = await res.json();\n      setAppointments(Array.isArray(data) ? data : []);\n    } catch (err) {\n      console.error(err);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchServices();\n    fetchAppointments();\n  }, [fetchServices, fetchAppointments]);\n\n  const handleBookAppointment = async (e) => {\n    e.preventDefault();\n    if (!slot) return alert(\"Please enter a slot\");\n\n    const isoSlot = new Date(slot).toISOString();\n\n    // ✅ Validation : slot doit être dans validSlots\n    if (!validSlots.includes(isoSlot)) return alert(\"Selected slot is outside provider working hours!\");\n\n    try {\n      await fetch(\"http://localhost:5000/appointments\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + getToken(),\n        },\n        body: JSON.stringify({\n          serviceId: Number(selectedServiceId),\n          slot: isoSlot,\n        }),\n      });\n      setSlot(\"\");\n      setSelectedServiceId(null);\n\n      const bookedService = services.find((s) => s.id === selectedServiceId);\n      if (bookedService) {\n        setAppointments((prev) => [\n          ...prev,\n          {\n            id: Date.now(),\n            serviceId: bookedService.id,\n            serviceTitle: bookedService.title,\n            serviceDescription: bookedService.description,\n            servicePrice: bookedService.price,\n            providerEmail: bookedService.providerEmail,\n            slot: isoSlot,\n            status: \"booked\",\n          },\n        ]);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleCancelAppointment = async (appointmentId) => {\n    try {\n      await fetch(`http://localhost:5000/appointments/${appointmentId}`, {\n        method: \"DELETE\",\n        headers: { Authorization: \"Bearer \" + getToken() },\n      });\n      setAppointments((prev) => prev.filter((a) => a.id !== appointmentId));\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const availableServices = services.filter(\n    (s) => !appointments.some((a) => a.serviceId === s.id && a.status === \"booked\")\n  );\n\n  useEffect(() => {\n    if (!selectedServiceId) return;\n    const service = services.find((s) => s.id === selectedServiceId);\n    if (!service) return;\n\n    fetch(`http://localhost:5000/working-hours?providerEmail=${service.providerEmail}`, {\n      headers: { Authorization: \"Bearer \" + getToken() },\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        const dayMap = { Sun: 0, Mon: 1, Tue: 2, Wed: 3, Thu: 4, Fri: 5, Sat: 6 };\n        const valid = [];\n        const workingEvents = (data.hours || []).map((h) => {\n          const start = new Date();\n          start.setDate(start.getDate() - start.getDay() + dayMap[h.day]);\n          const [sh, sm] = h.start.split(\":\").map(Number);\n          start.setHours(sh, sm, 0, 0);\n\n          const end = new Date(start);\n          const [eh, em] = h.end.split(\":\").map(Number);\n          end.setHours(eh, em, 0, 0);\n\n          // ✅ Créer les slots valides toutes les 30 min\n          let temp = new Date(start);\n          while (temp < end) {\n            valid.push(temp.toISOString());\n            temp = new Date(temp.getTime() + 30 * 60 * 1000);\n          }\n\n          return {\n            start,\n            end,\n            display: \"background\",\n            backgroundColor: \"repeating-linear-gradient(45deg, #27ae60, #27ae60 10px, #ffffff 10px, #ffffff 20px)\",\n            borderColor: \"#1e8449\",\n          };\n        });\n\n        const bookedAppointments = appointments\n          .filter((a) => {\n            const s = services.find((s) => s.id === a.serviceId);\n            return s && s.providerEmail === service.providerEmail && a.status === \"booked\";\n          })\n          .map((a) => ({\n            start: a.slot,\n            end: new Date(new Date(a.slot).getTime() + 30 * 60 * 1000),\n            title: a.serviceTitle,\n            backgroundColor: \"#3498db\",\n            borderColor: \"#2980b9\",\n          }));\n\n        setCalendarEvents([...workingEvents, ...bookedAppointments]);\n        setValidSlots(valid); // ✅ mettre à jour les slots valides\n      })\n      .catch(console.error);\n  }, [selectedServiceId, services, appointments]);\n\n  return (\n    <div style={{ maxWidth: \"800px\", margin: \"20px auto\", padding: \"20px\", fontFamily: \"Arial\" }}>\n      <style>{`\n        .fc-day-today { background: transparent !important; }\n        .fc-now-indicator { border-width: 2px !important; border-color: red !important; }\n      `}</style>\n\n      <h1 style={{ textAlign: \"center\", color: \"#2c3e50\" }}>Customer Dashboard</h1>\n\n      {/* ... le reste du code reste identique ... */}\n\n    </div>\n  );\n}\n\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC/D,OAAOC,YAAY,MAAM,qBAAqB;AAC9C,OAAOC,aAAa,MAAM,uBAAuB;AACjD,OAAOC,cAAc,MAAM,wBAAwB;AACnD,OAAOC,iBAAiB,MAAM,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1D,eAAe,SAASC,iBAAiBA,CAAA,EAAG;EAAAC,EAAA;EAC1C,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACa,YAAY,EAAEC,eAAe,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACe,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EAChE,MAAM,CAACiB,IAAI,EAAEC,OAAO,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACmB,cAAc,EAAEC,iBAAiB,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACqB,UAAU,EAAEC,aAAa,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;;EAElD,MAAMuB,QAAQ,GAAGA,CAAA,KAAMC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAEpD,MAAMC,aAAa,GAAGxB,WAAW,CAAC,YAAY;IAC5C,IAAI;MACF,MAAMyB,GAAG,GAAG,MAAMC,KAAK,CAAC,gCAAgC,EAAE;QACxDC,OAAO,EAAE;UAAEC,aAAa,EAAE,SAAS,GAAGP,QAAQ,CAAC;QAAE;MACnD,CAAC,CAAC;MACF,MAAMQ,IAAI,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,CAAC;MAC7BpB,WAAW,CAACqB,KAAK,CAACC,OAAO,CAACH,IAAI,CAAC,GAAGA,IAAI,GAAG,EAAE,CAAC;IAC9C,CAAC,CAAC,OAAOI,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IACpB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,iBAAiB,GAAGpC,WAAW,CAAC,YAAY;IAChD,IAAI;MACF,MAAMyB,GAAG,GAAG,MAAMC,KAAK,CAAC,oCAAoC,EAAE;QAC5DC,OAAO,EAAE;UAAEC,aAAa,EAAE,SAAS,GAAGP,QAAQ,CAAC;QAAE;MACnD,CAAC,CAAC;MACF,MAAMQ,IAAI,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,CAAC;MAC7BlB,eAAe,CAACmB,KAAK,CAACC,OAAO,CAACH,IAAI,CAAC,GAAGA,IAAI,GAAG,EAAE,CAAC;IAClD,CAAC,CAAC,OAAOI,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IACpB;EACF,CAAC,EAAE,EAAE,CAAC;EAENlC,SAAS,CAAC,MAAM;IACdyB,aAAa,CAAC,CAAC;IACfY,iBAAiB,CAAC,CAAC;EACrB,CAAC,EAAE,CAACZ,aAAa,EAAEY,iBAAiB,CAAC,CAAC;EAEtC,MAAMC,qBAAqB,GAAG,MAAOC,CAAC,IAAK;IACzCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI,CAACxB,IAAI,EAAE,OAAOyB,KAAK,CAAC,qBAAqB,CAAC;IAE9C,MAAMC,OAAO,GAAG,IAAIC,IAAI,CAAC3B,IAAI,CAAC,CAAC4B,WAAW,CAAC,CAAC;;IAE5C;IACA,IAAI,CAACxB,UAAU,CAACyB,QAAQ,CAACH,OAAO,CAAC,EAAE,OAAOD,KAAK,CAAC,kDAAkD,CAAC;IAEnG,IAAI;MACF,MAAMd,KAAK,CAAC,oCAAoC,EAAE;QAChDmB,MAAM,EAAE,MAAM;QACdlB,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClCC,aAAa,EAAE,SAAS,GAAGP,QAAQ,CAAC;QACtC,CAAC;QACDyB,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBC,SAAS,EAAEC,MAAM,CAACrC,iBAAiB,CAAC;UACpCE,IAAI,EAAE0B;QACR,CAAC;MACH,CAAC,CAAC;MACFzB,OAAO,CAAC,EAAE,CAAC;MACXF,oBAAoB,CAAC,IAAI,CAAC;MAE1B,MAAMqC,aAAa,GAAG1C,QAAQ,CAAC2C,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKzC,iBAAiB,CAAC;MACtE,IAAIsC,aAAa,EAAE;QACjBvC,eAAe,CAAE2C,IAAI,IAAK,CACxB,GAAGA,IAAI,EACP;UACED,EAAE,EAAEZ,IAAI,CAACc,GAAG,CAAC,CAAC;UACdP,SAAS,EAAEE,aAAa,CAACG,EAAE;UAC3BG,YAAY,EAAEN,aAAa,CAACO,KAAK;UACjCC,kBAAkB,EAAER,aAAa,CAACS,WAAW;UAC7CC,YAAY,EAAEV,aAAa,CAACW,KAAK;UACjCC,aAAa,EAAEZ,aAAa,CAACY,aAAa;UAC1ChD,IAAI,EAAE0B,OAAO;UACbuB,MAAM,EAAE;QACV,CAAC,CACF,CAAC;MACJ;IACF,CAAC,CAAC,OAAO/B,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IACpB;EACF,CAAC;EAED,MAAMgC,uBAAuB,GAAG,MAAOC,aAAa,IAAK;IACvD,IAAI;MACF,MAAMxC,KAAK,CAAC,sCAAsCwC,aAAa,EAAE,EAAE;QACjErB,MAAM,EAAE,QAAQ;QAChBlB,OAAO,EAAE;UAAEC,aAAa,EAAE,SAAS,GAAGP,QAAQ,CAAC;QAAE;MACnD,CAAC,CAAC;MACFT,eAAe,CAAE2C,IAAI,IAAKA,IAAI,CAACY,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACd,EAAE,KAAKY,aAAa,CAAC,CAAC;IACvE,CAAC,CAAC,OAAOjC,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IACpB;EACF,CAAC;EAED,MAAMoC,iBAAiB,GAAG5D,QAAQ,CAAC0D,MAAM,CACtCd,CAAC,IAAK,CAAC1C,YAAY,CAAC2D,IAAI,CAAEF,CAAC,IAAKA,CAAC,CAACnB,SAAS,KAAKI,CAAC,CAACC,EAAE,IAAIc,CAAC,CAACJ,MAAM,KAAK,QAAQ,CAChF,CAAC;EAEDjE,SAAS,CAAC,MAAM;IACd,IAAI,CAACc,iBAAiB,EAAE;IACxB,MAAM0D,OAAO,GAAG9D,QAAQ,CAAC2C,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKzC,iBAAiB,CAAC;IAChE,IAAI,CAAC0D,OAAO,EAAE;IAEd7C,KAAK,CAAC,qDAAqD6C,OAAO,CAACR,aAAa,EAAE,EAAE;MAClFpC,OAAO,EAAE;QAAEC,aAAa,EAAE,SAAS,GAAGP,QAAQ,CAAC;MAAE;IACnD,CAAC,CAAC,CACCmD,IAAI,CAAE/C,GAAG,IAAKA,GAAG,CAACK,IAAI,CAAC,CAAC,CAAC,CACzB0C,IAAI,CAAE3C,IAAI,IAAK;MACd,MAAM4C,MAAM,GAAG;QAAEC,GAAG,EAAE,CAAC;QAAEC,GAAG,EAAE,CAAC;QAAEC,GAAG,EAAE,CAAC;QAAEC,GAAG,EAAE,CAAC;QAAEC,GAAG,EAAE,CAAC;QAAEC,GAAG,EAAE,CAAC;QAAEC,GAAG,EAAE;MAAE,CAAC;MACzE,MAAMC,KAAK,GAAG,EAAE;MAChB,MAAMC,aAAa,GAAG,CAACrD,IAAI,CAACsD,KAAK,IAAI,EAAE,EAAEC,GAAG,CAAEC,CAAC,IAAK;QAClD,MAAMC,KAAK,GAAG,IAAI5C,IAAI,CAAC,CAAC;QACxB4C,KAAK,CAACC,OAAO,CAACD,KAAK,CAACE,OAAO,CAAC,CAAC,GAAGF,KAAK,CAACG,MAAM,CAAC,CAAC,GAAGhB,MAAM,CAACY,CAAC,CAACK,GAAG,CAAC,CAAC;QAC/D,MAAM,CAACC,EAAE,EAAEC,EAAE,CAAC,GAAGP,CAAC,CAACC,KAAK,CAACO,KAAK,CAAC,GAAG,CAAC,CAACT,GAAG,CAAClC,MAAM,CAAC;QAC/CoC,KAAK,CAACQ,QAAQ,CAACH,EAAE,EAAEC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;QAE5B,MAAMG,GAAG,GAAG,IAAIrD,IAAI,CAAC4C,KAAK,CAAC;QAC3B,MAAM,CAACU,EAAE,EAAEC,EAAE,CAAC,GAAGZ,CAAC,CAACU,GAAG,CAACF,KAAK,CAAC,GAAG,CAAC,CAACT,GAAG,CAAClC,MAAM,CAAC;QAC7C6C,GAAG,CAACD,QAAQ,CAACE,EAAE,EAAEC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;;QAE1B;QACA,IAAIC,IAAI,GAAG,IAAIxD,IAAI,CAAC4C,KAAK,CAAC;QAC1B,OAAOY,IAAI,GAAGH,GAAG,EAAE;UACjBd,KAAK,CAACkB,IAAI,CAACD,IAAI,CAACvD,WAAW,CAAC,CAAC,CAAC;UAC9BuD,IAAI,GAAG,IAAIxD,IAAI,CAACwD,IAAI,CAACE,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;QAClD;QAEA,OAAO;UACLd,KAAK;UACLS,GAAG;UACHM,OAAO,EAAE,YAAY;UACrBC,eAAe,EAAE,qFAAqF;UACtGC,WAAW,EAAE;QACf,CAAC;MACH,CAAC,CAAC;MAEF,MAAMC,kBAAkB,GAAG7F,YAAY,CACpCwD,MAAM,CAAEC,CAAC,IAAK;QACb,MAAMf,CAAC,GAAG5C,QAAQ,CAAC2C,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKc,CAAC,CAACnB,SAAS,CAAC;QACpD,OAAOI,CAAC,IAAIA,CAAC,CAACU,aAAa,KAAKQ,OAAO,CAACR,aAAa,IAAIK,CAAC,CAACJ,MAAM,KAAK,QAAQ;MAChF,CAAC,CAAC,CACDoB,GAAG,CAAEhB,CAAC,KAAM;QACXkB,KAAK,EAAElB,CAAC,CAACrD,IAAI;QACbgF,GAAG,EAAE,IAAIrD,IAAI,CAAC,IAAIA,IAAI,CAAC0B,CAAC,CAACrD,IAAI,CAAC,CAACqF,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;QAC1D1C,KAAK,EAAEU,CAAC,CAACX,YAAY;QACrB6C,eAAe,EAAE,SAAS;QAC1BC,WAAW,EAAE;MACf,CAAC,CAAC,CAAC;MAELrF,iBAAiB,CAAC,CAAC,GAAGgE,aAAa,EAAE,GAAGsB,kBAAkB,CAAC,CAAC;MAC5DpF,aAAa,CAAC6D,KAAK,CAAC,CAAC,CAAC;IACxB,CAAC,CAAC,CACDwB,KAAK,CAACvE,OAAO,CAACC,KAAK,CAAC;EACzB,CAAC,EAAE,CAACtB,iBAAiB,EAAEJ,QAAQ,EAAEE,YAAY,CAAC,CAAC;EAE/C,oBACEL,OAAA;IAAKoG,KAAK,EAAE;MAAEC,QAAQ,EAAE,OAAO;MAAEC,MAAM,EAAE,WAAW;MAAEC,OAAO,EAAE,MAAM;MAAEC,UAAU,EAAE;IAAQ,CAAE;IAAAC,QAAA,gBAC3FzG,OAAA;MAAAyG,QAAA,EAAQ;AACd;AACA;AACA;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAEV7G,OAAA;MAAIoG,KAAK,EAAE;QAAEU,SAAS,EAAE,QAAQ;QAAEC,KAAK,EAAE;MAAU,CAAE;MAAAN,QAAA,EAAC;IAAkB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAI1E,CAAC;AAEV;AAAC3G,EAAA,CA1KuBD,iBAAiB;AAAA+G,EAAA,GAAjB/G,iBAAiB;AAAA,IAAA+G,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}