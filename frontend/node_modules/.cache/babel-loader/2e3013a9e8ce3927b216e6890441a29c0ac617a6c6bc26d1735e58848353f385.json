{"ast":null,"code":"var _jsxFileName = \"/home/student25/ABS-Project/frontend/src/components/RegisterLogin.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL || \"https://abs-project-backend.onrender.com\";\nexport default function RegisterLogin() {\n  _s();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [role, setRole] = useState(\"customer\");\n  const navigate = useNavigate();\n  async function submit(endpoint) {\n    const payload = endpoint === \"register\" ? {\n      email,\n      password,\n      role\n    } : {\n      email,\n      password\n    };\n    try {\n      const res = await fetch(`${API_URL}/${endpoint}`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(payload)\n      });\n      const data = await res.json();\n      console.log(data);\n      if (!res.ok) {\n        alert(data.message || \"Error\");\n        return;\n      }\n      localStorage.setItem(\"token\", data.token);\n      localStorage.setItem(\"role\", data.role);\n      navigate(`/${data.role}`);\n    } catch (error) {\n      console.error(\"Network error:\", error);\n      alert(\"Network error. Please try again.\");\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 400,\n      margin: \"50px auto\",\n      padding: 30,\n      fontSize: 18,\n      borderRadius: 10,\n      backgroundColor: \"#e0f7fa\",\n      boxShadow: \"0 0 10px rgba(0,0,0,0.2)\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: 20\n      },\n      children: [role === \"provider\" ? \"Provider\" : \"Customer\", \" Login/Register\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Email\",\n      value: email,\n      onChange: e => setEmail(e.target.value),\n      style: {\n        width: \"100%\",\n        margin: \"10px 0\",\n        fontSize: 16,\n        padding: 10,\n        borderRadius: 5,\n        border: \"1px solid #ccc\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      value: password,\n      onChange: e => setPassword(e.target.value),\n      style: {\n        width: \"100%\",\n        margin: \"10px 0\",\n        fontSize: 16,\n        padding: 10,\n        borderRadius: 5,\n        border: \"1px solid #ccc\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: role,\n      onChange: e => setRole(e.target.value),\n      style: {\n        width: \"100%\",\n        margin: \"10px 0\",\n        fontSize: 16,\n        padding: 10,\n        borderRadius: 5,\n        border: \"1px solid #ccc\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"customer\",\n        children: \"Customer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"provider\",\n        children: \"Provider\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        marginTop: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => submit(\"register\"),\n        style: {\n          width: \"48%\",\n          fontSize: 16,\n          padding: 10,\n          borderRadius: 5,\n          cursor: \"pointer\",\n          backgroundColor: \"#00796b\",\n          color: \"#fff\",\n          border: \"none\"\n        },\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => submit(\"login\"),\n        style: {\n          width: \"48%\",\n          fontSize: 16,\n          padding: 10,\n          borderRadius: 5,\n          cursor: \"pointer\",\n          backgroundColor: \"#004d40\",\n          color: \"#fff\",\n          border: \"none\"\n        },\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(RegisterLogin, \"3A5z8l8z7DF58r1GJ/I7Qynupoc=\", false, function () {\n  return [useNavigate];\n});\n_c = RegisterLogin;\nvar _c;\n$RefreshReg$(_c, \"RegisterLogin\");","map":{"version":3,"names":["React","useState","useNavigate","jsxDEV","_jsxDEV","API_URL","process","env","REACT_APP_API_URL","RegisterLogin","_s","email","setEmail","password","setPassword","role","setRole","navigate","submit","endpoint","payload","res","fetch","method","headers","body","JSON","stringify","data","json","console","log","ok","alert","message","localStorage","setItem","token","error","style","maxWidth","margin","padding","fontSize","borderRadius","backgroundColor","boxShadow","children","textAlign","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","width","border","type","display","justifyContent","marginTop","onClick","cursor","color","_c","$RefreshReg$"],"sources":["/home/student25/ABS-Project/frontend/src/components/RegisterLogin.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst API_URL = process.env.REACT_APP_API_URL || \"https://abs-project-backend.onrender.com\";\n\n\nexport default function RegisterLogin() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [role, setRole] = useState(\"customer\");\n  const navigate = useNavigate();\n\n  async function submit(endpoint) {\n    const payload = endpoint === \"register\" ? { email, password, role } : { email, password };\n\n    try {\n      const res = await fetch(`${API_URL}/${endpoint}`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(payload),\n      });\n\n      const data = await res.json();\n      console.log(data); \n\n      if (!res.ok) {\n        alert(data.message || \"Error\");\n        return;\n      }\n\n      localStorage.setItem(\"token\", data.token);\n      localStorage.setItem(\"role\", data.role);\n      navigate(`/${data.role}`);\n    } catch (error) {\n      console.error(\"Network error:\", error);\n      alert(\"Network error. Please try again.\");\n    }\n  }\n\n  return (\n    <div style={{\n      maxWidth: 400, margin: \"50px auto\", padding: 30, fontSize: 18,\n      borderRadius: 10, backgroundColor: \"#e0f7fa\", boxShadow: \"0 0 10px rgba(0,0,0,0.2)\"\n    }}>\n      <h2 style={{ textAlign: \"center\", marginBottom: 20 }}>{role === \"provider\" ? \"Provider\" : \"Customer\"} Login/Register</h2>\n      <input placeholder=\"Email\" value={email} onChange={e => setEmail(e.target.value)}\n        style={{ width: \"100%\", margin: \"10px 0\", fontSize: 16, padding: 10, borderRadius: 5, border: \"1px solid #ccc\" }} />\n      <input type=\"password\" placeholder=\"Password\" value={password} onChange={e => setPassword(e.target.value)}\n        style={{ width: \"100%\", margin: \"10px 0\", fontSize: 16, padding: 10, borderRadius: 5, border: \"1px solid #ccc\" }} />\n      <select value={role} onChange={e => setRole(e.target.value)}\n        style={{ width: \"100%\", margin: \"10px 0\", fontSize: 16, padding: 10, borderRadius: 5, border: \"1px solid #ccc\" }}>\n        <option value=\"customer\">Customer</option>\n        <option value=\"provider\">Provider</option>\n      </select>\n      <div style={{ display: \"flex\", justifyContent: \"space-between\", marginTop: 10 }}>\n        <button onClick={() => submit(\"register\")} style={{ width: \"48%\", fontSize: 16, padding: 10, borderRadius: 5, cursor: \"pointer\", backgroundColor: \"#00796b\", color: \"#fff\", border: \"none\" }}>Register</button>\n        <button onClick={() => submit(\"login\")} style={{ width: \"48%\", fontSize: 16, padding: 10, borderRadius: 5, cursor: \"pointer\", backgroundColor: \"#004d40\", color: \"#fff\", border: \"none\" }}>Login</button>\n      </div>\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}