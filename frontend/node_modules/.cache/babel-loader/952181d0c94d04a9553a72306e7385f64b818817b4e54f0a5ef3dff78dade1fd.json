{"ast":null,"code":"var _jsxFileName = \"/home/student25/ABS-Project/frontend/src/components/RegisterLogin.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"/api\";\nexport default function RegisterLogin() {\n  _s();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [role, setRole] = useState(\"customer\");\n  const navigate = useNavigate();\n  async function submit(endpoint) {\n    const payload = endpoint === \"register\" ? {\n      email,\n      password,\n      role\n    } : {\n      email,\n      password\n    };\n    try {\n      const res = await fetch(`${API_URL}/${endpoint}`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(payload)\n      });\n      const data = await res.json();\n      console.log(\"HTTP status:\", res.status, \"Response:\", data);\n      if (!res.ok) {\n        alert(data.message || `Error ${res.status}`);\n        return;\n      }\n      localStorage.setItem(\"token\", data.token);\n      localStorage.setItem(\"role\", data.role);\n      navigate(`/${data.role}`);\n    } catch (error) {\n      console.error(\"Network error:\", error);\n      alert(\"Network error. Please try again.\");\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 400,\n      margin: \"50px auto\",\n      padding: 30,\n      fontSize: 18,\n      borderRadius: 10,\n      backgroundColor: \"#e0f7fa\",\n      boxShadow: \"0 0 10px rgba(0,0,0,0.2)\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: 20\n      },\n      children: [role === \"provider\" ? \"Provider\" : \"Customer\", \" Login/Register\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Email\",\n      value: email,\n      onChange: e => setEmail(e.target.value),\n      style: {\n        width: \"100%\",\n        margin: \"10px 0\",\n        fontSize: 16,\n        padding: 10,\n        borderRadius: 5,\n        border: \"1px solid #ccc\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      value: password,\n      onChange: e => setPassword(e.target.value),\n      style: {\n        width: \"100%\",\n        margin: \"10px 0\",\n        fontSize: 16,\n        padding: 10,\n        borderRadius: 5,\n        border: \"1px solid #ccc\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: role,\n      onChange: e => setRole(e.target.value),\n      style: {\n        width: \"100%\",\n        margin: \"10px 0\",\n        fontSize: 16,\n        padding: 10,\n        borderRadius: 5,\n        border: \"1px solid #ccc\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"customer\",\n        children: \"Customer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"provider\",\n        children: \"Provider\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        marginTop: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => submit(\"register\"),\n        style: {\n          width: \"48%\",\n          fontSize: 16,\n          padding: 10,\n          borderRadius: 5,\n          cursor: \"pointer\",\n          backgroundColor: \"#00796b\",\n          color: \"#fff\",\n          border: \"none\"\n        },\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => submit(\"login\"),\n        style: {\n          width: \"48%\",\n          fontSize: 16,\n          padding: 10,\n          borderRadius: 5,\n          cursor: \"pointer\",\n          backgroundColor: \"#004d40\",\n          color: \"#fff\",\n          border: \"none\"\n        },\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(RegisterLogin, \"3A5z8l8z7DF58r1GJ/I7Qynupoc=\", false, function () {\n  return [useNavigate];\n});\n_c = RegisterLogin;\nvar _c;\n$RefreshReg$(_c, \"RegisterLogin\");","map":{"version":3,"names":["React","useState","useNavigate","jsxDEV","_jsxDEV","API_URL","RegisterLogin","_s","email","setEmail","password","setPassword","role","setRole","navigate","submit","endpoint","payload","res","fetch","method","headers","body","JSON","stringify","data","json","console","log","status","ok","alert","message","localStorage","setItem","token","error","style","maxWidth","margin","padding","fontSize","borderRadius","backgroundColor","boxShadow","children","textAlign","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","width","border","type","display","justifyContent","marginTop","onClick","cursor","color","_c","$RefreshReg$"],"sources":["/home/student25/ABS-Project/frontend/src/components/RegisterLogin.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst API_URL = \"/api\";\n\nexport default function RegisterLogin() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [role, setRole] = useState(\"customer\");\n  const navigate = useNavigate();\n\n  async function submit(endpoint) {\n    const payload = endpoint === \"register\" ? { email, password, role } : { email, password };\n\n    try {\n      const res = await fetch(`${API_URL}/${endpoint}`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(payload),\n      });\n\n      const data = await res.json();\n      console.log(\"HTTP status:\", res.status, \"Response:\", data); \n\n      if (!res.ok) {\n        alert(data.message || `Error ${res.status}`);\n        return;\n      }\n\n      localStorage.setItem(\"token\", data.token);\n      localStorage.setItem(\"role\", data.role);\n      navigate(`/${data.role}`);\n    } catch (error) {\n      console.error(\"Network error:\", error);\n      alert(\"Network error. Please try again.\");\n    }\n  }\n\n  return (\n    <div style={{\n      maxWidth: 400, margin: \"50px auto\", padding: 30, fontSize: 18,\n      borderRadius: 10, backgroundColor: \"#e0f7fa\", boxShadow: \"0 0 10px rgba(0,0,0,0.2)\"\n    }}>\n      <h2 style={{ textAlign: \"center\", marginBottom: 20 }}>{role === \"provider\" ? \"Provider\" : \"Customer\"} Login/Register</h2>\n      <input placeholder=\"Email\" value={email} onChange={e => setEmail(e.target.value)}\n        style={{ width: \"100%\", margin: \"10px 0\", fontSize: 16, padding: 10, borderRadius: 5, border: \"1px solid #ccc\" }} />\n      <input type=\"password\" placeholder=\"Password\" value={password} onChange={e => setPassword(e.target.value)}\n        style={{ width: \"100%\", margin: \"10px 0\", fontSize: 16, padding: 10, borderRadius: 5, border: \"1px solid #ccc\" }} />\n      <select value={role} onChange={e => setRole(e.target.value)}\n        style={{ width: \"100%\", margin: \"10px 0\", fontSize: 16, padding: 10, borderRadius: 5, border: \"1px solid #ccc\" }}>\n        <option value=\"customer\">Customer</option>\n        <option value=\"provider\">Provider</option>\n      </select>\n      <div style={{ display: \"flex\", justifyContent: \"space-between\", marginTop: 10 }}>\n        <button onClick={() => submit(\"register\")} style={{ width: \"48%\", fontSize: 16, padding: 10, borderRadius: 5, cursor: \"pointer\", backgroundColor: \"#00796b\", color: \"#fff\", border: \"none\" }}>Register</button>\n        <button onClick={() => submit(\"login\")} style={{ width: \"48%\", fontSize: 16, padding: 10, borderRadius: 5, cursor: \"pointer\", backgroundColor: \"#004d40\", color: \"#fff\", border: \"none\" }}>Login</button>\n      </div>\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}